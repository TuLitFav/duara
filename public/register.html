<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Crear Cuenta - Fragancia Elegante</title>
    <link href="styles.css" rel="stylesheet" />
</head>
<body class="bg-gray-50 flex items-center justify-center min-h-screen">
    <div class="bg-white p-8 rounded-lg shadow-lg w-full max-w-md">
        <h2 class="text-2xl font-bold mb-6">Crear Cuenta</h2>
        <form id="register-form" onsubmit="event.preventDefault(); register();">
            <label for="register-name" class="block mb-2 font-semibold">Nombre</label>
            <input id="register-name" type="text" class="w-full px-4 py-3 border rounded mb-4" placeholder="Tu nombre" required />
            
            <label for="register-email" class="block mb-2 font-semibold">Correo electrónico</label>
            <input id="register-email" type="email" class="w-full px-4 py-3 border rounded mb-4" placeholder="tu@email.com" required />
            
            <label for="register-password" class="block mb-2 font-semibold">Contraseña</label>
            <input id="register-password" type="password" class="w-full px-4 py-3 border rounded mb-4" placeholder="Contraseña" required />
            
            <label for="register-birthdate" class="block mb-2 font-semibold">Fecha de nacimiento (opcional)</label>
            <input id="register-birthdate" type="date" class="w-full px-4 py-3 border rounded mb-6" />
            
            <button type="submit" class="w-full bg-purple-600 text-white py-3 rounded hover:bg-purple-700 transition">
                Crear Cuenta
            </button>
        </form>
        <p class="mt-4 text-center">
            ¿Ya tienes cuenta? 
            <a href="login.html" class="text-purple-600 hover:underline">Iniciar Sesión</a>
        </p>
    </div>
   <script src="main.js"></script>

<script>
document.getElementById('registerForm').addEventListener('submit', async (e) => {
  e.preventDefault(); // Evita que la página se recargue
  
  // Obtiene los valores de los inputs
  const nombre = document.getElementById('nombre').value;
  const email = document.getElementById('email').value;
  const password = document.getElementById('password').value;

  // Envía los datos al backend con fetch
  const res = await fetch('/auth/register', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ nombre, email, password })
  });
  const text = await res.text();

  // Muestra una alerta con la respuesta del servidor
  alert(text);
});
</script>


</body>
</html>
